import data from "./data"

/// list of costumes randomly selected to be the basis of a character.
/// each entry has the equipment, a list of vocations who can wear that equipment,
/// and a list of genders who can wear that equipment
///
///
/// contributions welcome, please keep in mind the gender and vocation distribution
/// `0xffff`can be used to have there be nothing equipped
const outfits = [
  /// dragon warrior set
  {
    // prettier-ignore
    equipment: {
      [data.ITEM_TYPE_WEAPON]:    0xffff,
      [data.ITEM_TYPE_SHIELD]:    0xffff,
      [data.ITEM_TYPE_HEAD]:      12785,
      [data.ITEM_TYPE_TORSO]:     13162,
      [data.ITEM_TYPE_ARM]:       15286,
      [data.ITEM_TYPE_LEGS]:      16256,
      [data.ITEM_TYPE_FEET]:      17303,
      [data.ITEM_TYPE_ACCESSORY]: 0xffff,
    },
    vocations: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
    genders: [0, 1],
  },
  /// celestial set + halo
  {
    // prettier-ignore
    equipment: {
      [data.ITEM_TYPE_WEAPON]:    0xffff,
      [data.ITEM_TYPE_SHIELD]:    0xffff,
      [data.ITEM_TYPE_HEAD]:      12805, // halo
      [data.ITEM_TYPE_TORSO]:     13007, // celestial suit
      [data.ITEM_TYPE_ARM]:       0xffff,
      [data.ITEM_TYPE_LEGS]:      16215, // celestial stockings
      [data.ITEM_TYPE_FEET]:      17120, // celestial shoes
      [data.ITEM_TYPE_ACCESSORY]: 0xffff,
    },
    vocations: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
    genders: [0, 1],
  },
  /// Paradigmatic Puglist (F)
  {
    // prettier-ignore
    equipment: {
      [data.ITEM_TYPE_WEAPON]:    0xffff,
      [data.ITEM_TYPE_SHIELD]:    0xffff,
      [data.ITEM_TYPE_HEAD]:      0xffff,
      [data.ITEM_TYPE_TORSO]:     13500, // strongsam
      [data.ITEM_TYPE_ARM]:       0xffff,
      [data.ITEM_TYPE_LEGS]:      16301, // slick slacks
      [data.ITEM_TYPE_FEET]:      17401, // she-fu shoes
      [data.ITEM_TYPE_ACCESSORY]: 0xffff,
    },
    vocations: [4],
    genders: [1],
  },
]

/// generates a random character
export function createValidCharacter() {
  const randomIntBetween = (min, max) => Math.floor(Math.random() * (max - min) + min)
  const randomIn = arr => arr[Math.floor(Math.random() * arr.length)]

  const outfit = randomIn(outfits)
  const gender = randomIn(outfit.genders)
  const vocation = randomIn(outfit.vocations)

  return {
    name: randomIn(data.defaultNames[gender]),
    equipment: outfit.equipment,
    gender,
    vocation,
    face: randomIntBetween(60, 70),
    hairstyle: randomIntBetween(40, 50),
    eyeColor: randomIntBetween(0, 8),
    hairColor: randomIntBetween(0, 10),
    skinColor: randomIntBetween(0, 8),
    bodyType: randomIn(data.bodyTypes[gender]),
    color: randomIntBetween(0, 16),
  }
}

// TODO: finalize all the stuff in here
// - hp/mp?

/// NOTE: this is mostly just a sanitized default new character with no known bad data in it, but also
/// idk what parts of this mean so :(
// prettier-ignore
export const emptyCharacter = [
  0x00, 0x07, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
  0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
  0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x12, 0x10, 0x20, 0x01, // NOTE: bytes 466-487 are unknown, i think there's current stat data in them but idk
  0x05, 0x10, 0x00, 0x00, 0x00, 0x68, 0x40, 0x00, 0x1a, 0x10, 0x90, 0x01,
  0x1a, 0x64, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0x3c, 0x23, 0x28, 0x23,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0x00, 0x00, 0x15, 0x37, 0x0a, 0x0f, 0xae, 0x0f, 0xff, 0xff, 0xff, 0xff, // NOTE: ending 0xff's are previously set per vocation equipment
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
]

// prettier-ignore
export const emptyGuest = [
]
